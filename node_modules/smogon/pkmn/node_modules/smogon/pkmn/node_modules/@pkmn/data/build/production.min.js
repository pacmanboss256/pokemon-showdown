var _this=this;function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}!function(){"use strict";var e={},t=_this&&_this.__await||function(e){return this instanceof t?(this.v=e,this):new t(e)},i=_this&&_this.__asyncGenerator||function(e,i,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=s.apply(e,i||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){r[e]&&(n[e]=function(t){return new Promise((function(i,s){o.push([e,t,i,s])>1||h(e,t)}))})}function h(e,i){try{(s=r[e](i)).value instanceof t?Promise.resolve(s.value.v).then(d,c):u(o[0][2],s)}catch(e){u(o[0][3],e)}var s}function d(e){h("next",e)}function c(e){h("throw",e)}function u(e,t){e(t),o.shift(),o.length&&h(o[0][0],o[0][1])}};e.Stats=e.Learnsets=e.Type=e.Types=e.Natures=e.Effects=e.Specie=e.Species=e.Moves=e.Items=e.Abilities=e.Generation=e.Generations=e.toID=void 0;var s=function(e){return!!e.exists&&((!("isNonstandard"in e)||!e.isNonstandard)&&(("Ability"!==e.kind||"noability"!==e.id)&&!("tier"in e&&["Illegal","Unreleased"].includes(e.tier))))},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?(e>>>0)%2**t:e>>>0};function r(e){return(null==e?void 0:e.id)&&(e=e.id),"string"!=typeof e&&"number"!=typeof e?"":(""+e).toLowerCase().replace(/[^a-z0-9]+/g,"")}e.toID=r;var o=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;this.cache=Object.create(null),this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){return this.cache[e]?this.cache[e]:this.cache[e]=new a(this.dex.forGen(e),this.exists)},t[Symbol.iterator]=function*(){for(var e=1;e<=8;e++)yield this.get(e)},e}();e.Generations=o;var a=function(){function e(e,t){this.dex=e,this.exists=t,this.abilities=new h(this.dex,this.exists),this.items=new d(this.dex,this.exists),this.moves=new c(this.dex,this.exists),this.species=new u(this.dex,this.exists),this.natures=new p(this.dex,this.exists),this.types=new x(this.dex,this.exists),this.learnsets=new S(this.dex,this.exists),this.effects=new v(this.dex,this.exists),this.stats=new D(this.dex)}return _createClass(e,[{key:"num",get:function(){return this.dex.gen}}]),e}();e.Generation=a;var h=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.getAbility(e);return this.exists(t)?t:void 0},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Abilities){var t=this.get(e);t&&(yield t)}},e}();e.Abilities=h;var d=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.getItem(e);return this.exists(t)?t:void 0},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Items){var t=this.get(e);t&&(yield t)}},e}();e.Items=d;var c=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.getMove(e);return this.exists(t)?t:void 0},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Moves){var t=this.get(e);t&&(yield t)}},e}();e.Moves=c;var u=function(){function e(e,t){this.cache=Object.create(null),this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){var t=this.dex.getSpecies(e);if(this.exists(t)){var i=t.speciesid||t.id,s=this.cache[i];return s||(this.cache[i]=new f(this.dex,this.exists,t))}},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Species){var t=this.get(e);t&&(yield t)}},e}();e.Species=u;var f=function(){function e(t,i,s){var n,r,o,a,h,d,c,u,f,v=this;!function(e,t,i){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&!i.has(s)&&(e[s]=t[s])}(this,s,e.EXCLUDE),this.dex=t,this.dex.gen>=2?(this.gender=s.gender,this.genderRatio=s.genderRatio):this.genderRatio={M:0,F:0},this.evos=null===(n=s.evos)||void 0===n?void 0:n.filter((function(e){return i(v.dex.getSpecies(e))})),this.nfe=!!(null===(r=this.evos)||void 0===r?void 0:r.length),this.nfe||(this.evos=void 0),this.cosmeticFormes=null===(o=s.cosmeticFormes)||void 0===o?void 0:o.filter((function(e){return i(v.dex.getSpecies(e))})),(null===(a=this.cosmeticFormes)||void 0===a?void 0:a.length)||(this.cosmeticFormes=void 0),this.otherFormes=null===(h=s.otherFormes)||void 0===h?void 0:h.filter((function(e){return i(v.dex.getSpecies(e))})),(null===(d=this.otherFormes)||void 0===d?void 0:d.length)||(this.otherFormes=void 0),this.formeOrder=null===(c=s.formeOrder)||void 0===c?void 0:c.filter((function(e){return i(v.dex.getSpecies(e))})),(null===(u=this.formeOrder)||void 0===u?void 0:u.length)||(this.formeOrder=void 0),this.formes=null===(f=this.formeOrder)||void 0===f?void 0:f.filter((function(e){return!v.dex.getSpecies(e).isGigantamax})),this.prevo=s.prevo&&i(this.dex.getSpecies(s.prevo))?s.prevo:void 0}return e.prototype.hasAbility=function(e){return this.dex.hasAbility(this,e)},_createClass(e,[{key:"formeNum",get:function(){var e=this;return this.baseSpecies===this.name?this.formeOrder?this.formeOrder.findIndex((function(t){return t===e.name})):0:this.dex.getSpecies(this.baseSpecies).formeOrder.findIndex((function(t){return t===(e.isGigantamax?e.baseSpecies:e.name)}))}}]),e}();e.Specie=f,f.EXCLUDE=new Set(["evos","gender","genderRatio","cosmeticFormes","nfe","otherFormes","prevo"]);var v=function(){function e(e,t){this.dex=e,this.exists=t}return e.prototype.get=function(e){var t=this.dex.getEffect(e);return this.exists(t)?t:void 0},e}();e.Effects=v;var p=function(){function e(e,t){this.dex=e,this.exists=t}var t=e.prototype;return t.get=function(e){if(!(this.dex.gen<3)){var t=this.dex.getNature(e);return this.exists(t)?t:void 0}},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Natures){var t=this.get(e);t&&(yield t)}},e}();e.Natures=p;var l={"-2":.25,"-1":.5,0:1,1:2,2:4},x=function(){function e(e,t){this.cache=Object.create(null),this.dex=e,this.exists=t,this.unknown=new m({effectType:"Type",kind:"Type",id:"",name:"???",exists:e.gen<=4,gen:1,damageTaken:{},HPivs:{},HPdvs:{}},e,this)}var t=e.prototype;return t.get=function(e){if("???"===e)return this.unknown;var t=this.dex.getType(e);if(this.exists(t)){var i=this.cache[t.id];return i||(this.cache[t.id]=new m(t,this.dex,this))}},t[Symbol.iterator]=function*(){for(var e in this.dex.data.Types)yield this.get(e);this.dex.gen>=2&&this.dex.gen<=4&&(yield this.unknown)},t.getHiddenPower=function(e){return this.dex.getHiddenPower(e)},t.canDamage=function(e,t){return this.dex.getImmunity(e,t)},t.totalEffectiveness=function(e,t){var i=""+this.dex.getEffectiveness(e,t);return l[i]},e}();e.Types=x;var g=[1,2,.5,0],y=["Fire","Water","Grass","Electric","Ice","Psychic","Dark","Dragon"],m=function(){function e(e,t,i){for(var s in Object.assign(this,e),this.types=i,this.category="Fairy"===this.name?void 0:y.includes(this.name)?"Special":"Physical",this.effectiveness={"???":1},t.data.Types){var n=s;this.effectiveness[n]=g[t.data.Types[n].damageTaken[this.name]||0]}}var t=e.prototype;return t.canDamage=function(e){return this.types.canDamage(this.name,e)},t.totalEffectiveness=function(e){return this.types.totalEffectiveness(this.name,e)},e}();e.Type=m;var S=function(){function e(e,t){this.dex=e,this.exists=t}var s=e.prototype;return s.get=async function(e){var t=await this.dex.getLearnset(r(e));return this.exists(t)?t:void 0},s[Symbol.iterator]=function(){return i(this,arguments,(function*(){for(var e in this.dex.data.Learnsets||(yield t(this.dex.getLearnset("LOAD"))),this.dex.data.Learnsets){var i=yield t(this.get(e));i&&(yield yield t(i))}}))},e}();e.Learnsets=S;var b=["hp","atk","def","spe","spa","spd"],w={HP:"hp",hp:"hp",Attack:"atk",Atk:"atk",atk:"atk",Defense:"def",Def:"def",def:"def","Special Attack":"spa",SpA:"spa",SAtk:"spa",SpAtk:"spa",spa:"spa",Special:"spa",spc:"spa",Spc:"spa","Special Defense":"spd",SpD:"spd",SDef:"spd",SpDef:"spd",spd:"spd",Speed:"spe",Spe:"spe",Spd:"spe",spe:"spe"},k={hp:["HP","HP"],atk:["Atk","Attack"],def:["Def","Defense"],spa:["SpA","Special Attack"],spd:["SpD","Special Defense"],spe:["Spe","Speed"],spc:["Spc","Special"]},D=function(){function e(e){this.dex=e}var t=e.prototype;return t.calc=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:31,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,o=arguments.length>5?arguments[5]:void 0;if(void 0===s&&(s=this.dex.gen<3?252:0),this.dex.gen<3&&(i=2*this.toDV(i),o=void 0),"hp"===e)return 1===t?t:n(n(2*t+i+n(s/4)+100)*r/100+10);var a=n(n(2*t+i+n(s/4))*r/100+5);if(void 0!==o){if(o.plus===e)return n(n(110*a,16)/100);if(o.minus===e)return n(n(90*a,16)/100)}return a},t.get=function(e){return w[e]},t.display=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=w[e];return void 0===i?e:(1===this.dex.gen&&"spa"===i&&(i="spc"),k[i][+t])},t.fill=function(e,t){for(var i=0;i<b.length;i++){var s=b[i];s in e||(e[s]=t)}return e},t.getHPDV=function(e){return this.toDV(void 0===e.atk?31:e.atk)%2*8+this.toDV(void 0===e.def?31:e.def)%2*4+this.toDV(void 0===e.spe?31:e.spe)%2*2+this.toDV(void 0===e.spa?31:e.spa)%2},t[Symbol.iterator]=function*(){for(var e=0;e<b.length;e++){var t=b[e];yield t}},t.toDV=function(e){return Math.floor(e/2)},t.toIV=function(e){return 2*e+1},e}();e.Stats=D,window.Generations=e.Generations}();